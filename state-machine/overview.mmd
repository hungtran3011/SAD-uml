stateDiagram-v2
    [*] --> Giỏ_hàng
    Giỏ_hàng --> Đang_xử_lý: Xác nhận đặt hàng
    Giỏ_hàng --> Bị_hủy: Hủy giỏ hàng
    
    Đang_xử_lý --> Đang_thanh_toán: Thanh toán online
    Đang_xử_lý --> Đang_vận_chuyển: COD
    Đang_xử_lý --> Bị_hủy: Hủy đơn
    
    Đang_thanh_toán --> Đang_vận_chuyển: Thanh toán thành công
    
    Đang_vận_chuyển --> Giao_thành_công: Xác nhận giao
    Đang_vận_chuyển --> Bị_hủy: Từ chối nhận
    Đang_vận_chuyển --> Trả_hàng: Yêu cầu trả
    
    Giao_thành_công --> Đã_hoàn_thành
    
    Trả_hàng --> Đang_hoàn_tiền: Duyệt trả hàng
    Bị_hủy --> Đang_hoàn_tiền: Nếu đã thanh toán
    
    Đang_hoàn_tiền --> Đã_hoàn_tiền
    
    Đã_hoàn_thành --> [*]
    Đã_hoàn_tiền --> [*]
    Bị_hủy --> [*]: Không cần hoàn tiền